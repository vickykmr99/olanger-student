!function(){"use strict";function t(t,n){I.forEach((r=>{try{r(new C(t,n))}catch(t){}}))}function n(t,n){return-1!==function(t,n){if("string"!=typeof n)return-1;if(null==t)return-1;let r=String(t);return 0===r.length?-1:r.indexOf(n)}(t,n)}function r(t,n){void 0===n&&(n="");try{return atob(t)}catch(t){return"string"==typeof n?n:""}}function e(t){return Math.floor(Math.random()*t)}function u(t){return new Promise(t)}function l(){return Math.floor(Math.random()*(Number.MAX_SAFE_INTEGER-10)).toString(36)}function i(){return[l(),l(),l()].join("").slice(0,18)}function c(t){let n=[];return Object.keys(t).forEach((r=>{var e;null!=t[r]&&n.push(k(r)+"="+k(String(null!=(e=t[r])?e:"")))})),n.join("&")}function o(t){if(null==t||t.length<2)return{};let n={};return t.replace(/^\?/,"").split("&").forEach((t=>{let r=t.split("=");n[U(r[0])]=U(r[1])})),n}function a(t){return Promise.reject(t)}function s(t){return Promise.resolve(t)}function f(t){if(!t)return!1;try{return!!O.location.href}catch(t){return!1}}function d(){return D&&null!=D.ancestorOrigins?null==(t=D.ancestorOrigins)?[]:"function"==typeof Array.isArray&&Array.isArray(t)?t:"function"==typeof Array.from?Array.from(t):X.call(t):[];var t}function h(){if(O===O.top)return D.host;try{var t;let n=null==(t=O.top)?void 0:t.location.host;if(null!=n)return n}catch(t){}let n=d();if(n.length>0){let t=n[n.length-1];if(null!=t){try{return p(t).host}catch(t){}return t}}return""}function p(t){try{return new URL(t)}catch(n){let r=j.createElement("a");return r.href=t,r}}function m(t){if("string"==typeof t)return t.replace(/\(([^\):]+):(\d+:\d+)\)/g,"($2)").replace(/at \/[\S:]+:(\d+:\d+)/g,"at $1");if(t instanceof Error)return t.message+"\n"+m(t.stack);if(t instanceof ErrorEvent)return m(t.message+" @"+t.lineno+":"+t.colno+" / "+t.type);if(t instanceof Event)return m(t.type);try{return JSON.stringify(t)}catch(t){}return String(t)}function y(t,n,r,e){void 0===r&&(r=j),void 0===e&&(e=[]);let u=r.createElement(t);return null!=n&&("!"===n[0]?function(t,n,r){if(null!=t)try{t.setAttribute("style",String(r))}catch(t){}}(u,0,n.slice(1)):u.className=n),e&&e.length&&e.forEach((t=>{"string"!=typeof t?u.appendChild(t):u.insertAdjacentHTML("beforeend",t)})),u}function v(t,n){void 0===n&&(n=W);try{return n.localStorage.getItem(t)}catch(t){return null}}function g(t,n,r){try{t.localStorage.setItem(n,function(t){return"string"==typeof t}(r)?r:JSON.stringify(r))}catch(t){}}function b(t,n,r){void 0===r&&(r=W),g(r,t,n);let e=W.parent;for(;null!=e&&e!==W&&e!==top;)g(e,t,n),e=e.parent;g(top,t,n)}function _(){return(_=Object.assign||function(t){var n,r,e;for(n=1;n<arguments.length;n++)for(e in r=arguments[n])Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t}).apply(this,arguments)}function w(t,r){return null!=t&&/ib\.adnxs\.com/.test(t)&&("1"===(e=r.gdpr)||"true"===e||!0===e||1===e)&&!n(t,"gdpr_consent=");var e}function x(t,n){let r=new URL(t);return r.searchParams.set("gdpr",$(n.gdpr)),r.searchParams.set("gdpr_consent",$(n.gdpr_consent)),r.toString()}function E(t,r,e){var l;void 0===e&&(e=!1);let i=new K(t);return(l=t,u(((t,r)=>{!function(t){try{parent.postMessage("||am.ck."+t,"*")}catch(t){}}(l);let e=function(){try{let t=top.Image;if(null!=t)return new t;let n=y("img","a-s",top.document);return n.style.display="none",n}catch(t){}return null!=O.Image?new Image:y("img","a-s")}(),u=e.className&&n(e.className,"a-s"),i=u?()=>{!function(t){if(null==t)return;let n=t.parentElement;null!=n&&n.removeChild(t)}(e)}:()=>{},c=u=>{i(),null!=u&&n(l,"ib.adnxs.com/prebid")?r(u):t(e)};e.onerror=t=>c(t),e.onload=()=>c(null),e.src=l,u&&function(t,n){[].concat(n).forEach((n=>{t.appendChild(n)}))}(e.ownerDocument.head,e)}))).then((t=>(i.tr(t.src),i))).catch((n=>!e&&w(t,r)?E(x(t,r),r,!0):(i.tr("",n),Y.nr("csynce",{bid:t,e:m(n)}),i)))}function S(t,n){if(null==n||null==n.frames)return;let r=n.frames.length;for(let e=0;e<r;e++)try{if(n.frames[e]===O)continue;n.frames[e].postMessage("&"+JSON.stringify({l:t}),"https://"+document.domain)}catch(t){}}const O=window,j=O.document,R=O,D=O.location,M=O.screen,U=t=>{try{return decodeURIComponent($(t))}catch(n){return $(t)}};let I=[];const N=(n,r)=>{return O.setTimeout((e=n,void 0===u&&(u=!1),function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];try{return e(...r)}catch(n){u||t(A(n),{C:"sWF"})}return null}),r);var e,u},$=String;class C extends Error{Y(){var t;return null!=(t=this.extra)?t:{}}Z(){}constructor(t,n){let r="string"!=typeof t;super(r?t.message:t),this.extra=n;try{r&&(this.stack=t.stack,this.K=t.K,this.name=t.name)}catch(t){}}}class J extends Error{constructor(t){super(t)}}const P=(t,n)=>t instanceof J?t:t&&t instanceof Error?new C(t,n):new C($(t),n);let L=null,X=[].slice;const k=n=>{try{return encodeURIComponent($(n))}catch(r){return t(A(r),{value:n}),""}};!function(){try{let t=d(),n=t[t.length-1];/(?:msn|microsoft|outlook)\.com/i.test(n)}catch(t){return!1}}();const A=t=>null!=t&&t instanceof Error?t:P($(t));let W=function(){if(O===O.top)return O;try{var t;if(null!=(null==(t=O.top)?void 0:t.location.href))return O.top}catch(t){}return O}(),G=W;W.document,r("X19TdG9yYWdlREI=","_db"),null!=L||(L=function(){let t=h().replace(/:\d+/,"").split("."),n=/\.co\.\w{2,4}$/.test(D.host)?3:2;return t.slice(t.length-n).join(".")}()),r("c2RiX192YWx1ZXM=","_t"),r("X2dhX2JldGF1aWQ=","_g"),W.indexedDB||G.mozIndexedDB||G.webkitIndexedDB||G.msIndexedDB,function(){let t=function(t){let n,r,e=u(((t,e)=>{n=n=>{n instanceof Promise||null!=n&&n.then?n.then((t=>{l.v=t})):l.v=n,t(n)},r=e})),l={v:null,r:n,j:r,p:e};return[l.r,l.j,()=>l.v,l.p]}(),n=u((t=>{N((()=>{t(s([["0","0","0"],!1]))}),e(1e3))}));t[0](n)}(),"amx".split("").map((t=>t.charCodeAt(0))).length;class K{tr(t,n){this.error=null!=n?A(n):void 0,this.er=t,this.rtt=Date.now()-this.startTime}getError(){var t;return null!=(t=this.error)?t:null}ur(){return null!=this.error}constructor(t){this.url=t,this.startTime=Date.now(),this.rtt=0,this.er=""}}let F=function(t){void 0===t&&(t="");let r=function(t){void 0===t&&(t="");let r=j.currentScript;if(null!=r)return r;let e=j.scripts;if(null==e)return null;for(let r=0,u=e.length;r<u;r++){let u=e[r];if(n(u.src+"","assets.a-mo.net/js/"+t))return u}return null}(t);if(null==r)return{};r.className+="  amx-aco-active ";let e=p(r.src);return null==e?{}:o((e.hash.length>1&&n(e.hash,"=")?e.hash:e.search).slice(1))}(),T=o(D.search.slice(1)),Y=new class{lr(t){Object.assign(this.ir,t)}ar(){var t,n;return this.gdprApplies?{gdpr:this.gdprApplies?1:0,do:null!=(t=this.ir.do)?t:"",gdpr_consent:this.hr}:{do:null!=(n=this.ir.do)?n:""}}pr(t,n){return"https://1x1.a-mo.net/hbx/g_"+t+"?"+c(_({},this.ir,n,{eid:i(),ts:Date.now()}))}nr(t,n){void 0===n&&(n={}),(new Image).src=this.pr(t,n)}constructor(){var t,r,e,u,l;this.ir=_({do:function(){let t=h();return n(t,"http")?new URL(t).host:t}(),re:j.referrer,sw:null!=(r=M.availWidth)?r:0,sh:null!=(e=M.availHeight)?e:0},T,F);let i=this.ir.gdpr;this.hr=null!=(u=this.ir.gdpr_consent)?u:"",this.gdprApplies="true"===i||"1"===i||1===i||!0===i,this.ir.m=i?"1":"0",this.ir.p=null!=(l=null==(t=this.hr)?void 0:t.length)?l:-1}},q="__amuidpb",H=[["https://ib.adnxs.com/prebid/setuid?bidder=amx&uid=",!1,100],["https://ow.pubmatic.com/setuid?bidder=amx&uid=",!1,100],["https://prebid-server.rubiconproject.com/setuid?bidder=amx&uid=",!1,100]],Q=t=>null!=t&&t.length>0,Z="__am$CK|"+Math.floor(Date.now()/864e5),z=!1;O.addEventListener("message",(t=>{if(n(t.origin,"a-mo.net"))try{let n=JSON.parse(t.data.slice(1));z=n.l}catch(t){}})),R.__am$CK=(t,r)=>{var l;l=function(t,n){let r=t.amuid;return"string"==typeof(e=r)&&e.length>0?()=>n(_({},t,{amuid:r})):()=>{u(((t,n)=>{let r=new XMLHttpRequest;r.open("GET","https://prebid.a-mo.net/getuid"),r.withCredentials=!0,r.onreadystatechange=()=>{if(r.readyState>=4){if(200!==r.status)return n(r.status);let{buyeruid:e}=JSON.parse(r.responseText);if(null==e)return n("null");t(e)}},r.onerror=n,r.send()})).then((r=>{n(_({},t,{amuid:r}))})).catch((r=>{if("crypto"in O&&null!=O.crypto.mr){let r=O.crypto.mr();return b(q,r),void n(_({},t,{amuid:r}))}}))};var e}(r,(r=>{Y.lr({cn:t.length,c3:r.amuid}),n(r.amuid,"#")&&b(q,r.amuid);let e=Y.ar(),l=null!=e?"&"+c(e):"";!function(t,n){var r,e,l,c,o;try{(c="https://assets.a-mo.net/js/idl.js?ga="+(null!=(r=null==t?void 0:t.gdpr)?r:0)+"&gc="+(null!=(e=null==t?void 0:t.gdpr_consent)?e:"")+"&do="+(null!=(l=t.do)?l:"")+"&e=27&uid="+(null!=n?n:""),o={},null!=R._?s(R._):(null!=o&&(R._=o),u(((t,n)=>{let r=y("script");r.type="text/javascript",r.id="slc__"+i(),r.src=c;let e=!1;r.onload=()=>{e=!0,N((()=>{let r=R._;null!=r?t(r):n(P(500))}),150)},r.onerror=t=>{e||n(t)},j.head.appendChild(r)})))).catch((()=>{}))}catch(t){}}(e,r.amuid);try{o=r.amuid,f=l,Promise.all(["cb","_cb","callback"].map((t=>function(t,r,e){if(null==t)return a(P("NOC"));try{let l=new URL(D.href);if(l&&null!=l.searchParams.get(e)){let i=l.searchParams.get(e),c=k(t),o=n(null!=i?i:"","$UID")?i.replace("$UID",null!=c?c:""):i+c,a=new URL(o);a.searchParams.delete("gdpr"),a.searchParams.delete("gdpr_consent"),a.searchParams.delete("us_privacy");let f=a.toString()+r;return"iframe"===l.searchParams.get("_cbt")?u((t=>{t(D.href=f)})):s((new Image).src=f)}}catch(t){return a(t)}return s("")}(o,f,t).catch((t=>null)))))}catch(t){}var o,f;if(null!=r.amuid){let n=function(t,n){let r=k(t);return H.filter((t=>{let[,,n]=t;return r=n,Math.round(100*Math.random())<=r;var r})).map((t=>{let[e,u]=t;return u&&""===n?null:e+r+n})).filter(Q)}(r.amuid,l);t.push(...n),t.push("https://ib.adnxs.com/prebid/setuid?bidder=amx&uid="+k(r.amuid)+l);try{parent.postMessage("||am.uk."+r.amuid,"*")}catch(t){}}let d=null;t.forEach((t=>{w(t,F)&&(d=x(t,F))})),null!=d&&t.push(d),Promise.all(t.map((t=>E(t,F)))).then((t=>{let e=t.length,u=t.filter((t=>!t.ur())).length,l=t.reduce(((t,n)=>t+n.rtt),0)/(1*e);try{let t=v(q),e=null!=t&&n(t,"#")?t:r.amuid;O.parent.postMessage({type:"uid",yr:["amx",e]})}catch(t){}b("__amuidst.1",JSON.stringify({cn:e,cn2:u,cn3:l}))}))})),N((()=>{!function(t){let r=function(){if(f(O.top))return O.top;let t=O;for(;f(t.parent);)t=t.parent;return t}();if(z)return;let e=v(Z,r);if(!(null!=e&&e.length>0||n(j.cookie,"__am$CK"))){b(Z,Date.now()+"",r);try{j.cookie="__am$CK=1;path=/;max-age=300"}catch(t){}S(!0,O.parent),S(!0,top);try{t()}catch(t){}N((()=>{S(!1,parent),S(!1,top),b(Z,"",r)}),9e4)}}(l)}),e(300)+50)}}();
//# sourceMappingURL=cframe.js.map
